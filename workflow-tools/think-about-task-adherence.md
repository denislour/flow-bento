# Think About Task Adherence

## Function Description (Replaces ThinkAboutTaskAdherenceTool)

Before making any code changes (insert, replace, or delete operations), execute the following workflow to ensure you remain focused on the original task and haven't drifted from the user's requirements:

## Step 1: Review Original Task Requirements
**Description**: Revisit the initial user request to understand core objectives
**Review Process**:
- Re-read the original user request carefully
- Identify the primary goals and objectives
- Note any specific requirements or constraints mentioned
- Understand the scope and boundaries of the task

**Task Analysis Framework**:
```
# Core task identification
‚Üí What is the main problem to solve?
‚Üí What specific outcome does the user want?
‚Üí Are there multiple sub-tasks involved?
‚Üí What are the success criteria?

# Requirement extraction
‚Üí Functional requirements (what the code should do)
‚Üí Non-functional requirements (performance, security, etc.)
‚Üí Technical constraints (technology, architecture, etc.)
‚Üí Business constraints (timeline, resources, etc.)

# Scope definition
‚Üí What is explicitly included in the task?
‚Üí What is explicitly excluded?
‚Üí What assumptions are reasonable to make?
‚Üí Where are the boundaries of this work?
```

## Step 2: Assess Current Understanding vs Original Intent
**Description**: Compare your current plan with the original user intentions
**Comparison Analysis**:
- Does your current approach address the core problem?
- Have you maintained focus on the primary objectives?
- Are you solving the right problem?
- Have you expanded the scope inappropriately?

**Alignment Check**:
```
# Well-aligned indicators
‚úÖ Current plan directly addresses user's stated problem
‚úÖ Proposed changes solve the specific issue mentioned
‚úÖ Scope remains within reasonable bounds of request
‚úÖ Approach matches user's expectations and context

# Misalignment indicators
‚ùå Current plan addresses a different problem
‚ùå Scope has expanded beyond original request
‚ùå Focus has shifted to tangential issues
‚ùå Approach is more complex than necessary
‚ùå Solution doesn't match user's apparent needs
```

## Step 3: Evaluate Conversation History for Drift
**Description**: Review the conversation progression to identify any drift from original goals
**Drift Analysis**:
- How has the conversation evolved from the initial request?
- Have new requirements been introduced that change the scope?
- Are you addressing issues the user didn't ask about?
- Has the complexity grown beyond the original intent?

**Common Drift Patterns**:
```
# Scope creep
‚Üí Adding features not requested
‚Üí Solving related but different problems
‚Üí Optimizing areas not mentioned by user
‚Üí Addressing potential future needs

# Technical rabbit holes
‚Üí Over-engineering solutions
‚Üí Focusing on implementation details vs outcomes
‚Üí Getting distracted by interesting technical challenges
‚Üí Solving problems that don't need solving

# Assumption drift
‚Üí Making assumptions about unstated requirements
‚Üí Interpreting user needs beyond what they expressed
‚Üí Adding complexity based on perceived best practices
‚Üí Solving for edge cases not mentioned
```

## Step 4: Confirm Current Approach Alignment
**Description**: Validate that your planned code changes align with the task
**Validation Questions**:
- Will the planned changes directly solve the user's problem?
- Are the changes minimal and focused on the core issue?
- Do the changes introduce unnecessary complexity?
- Are you confident this is what the user actually wants?

**Alignment Validation**:
```
# Strong alignment signals
‚úÖ Changes directly address stated problem
‚úÖ Solution is proportional to problem complexity
‚úÖ User requirements are clearly met
‚úÖ Changes are minimal and focused
‚úÖ No additional complexity introduced unnecessarily

# Weak alignment signals
‚ö†Ô∏è Changes solve more than what was asked
‚ö†Ô∏è Solution complexity exceeds problem complexity
‚ö†Ô∏è Unclear if user actually wants these changes
‚ö†Ô∏è Multiple different approaches being considered
‚ö†Ô∏è Changes touch many unrelated areas

# Misalignment signals
‚ùå Changes don't directly address user's problem
‚ùå Solution is overly complex for the stated need
‚ùå Changes expand scope significantly
‚ùå Approach seems disconnected from original request
```

## Complete Workflow Examples

### Example 1: Well-Aligned Task Progress
**Original Request**: "Fix the login button that's not working on the home page"

#### Step 1: Review requirements
```
Core objective: Fix broken login button functionality
Specific requirement: Button on home page should work
Success criteria: Users can click login button and proceed to login
Scope: Home page login button only
```

#### Step 2: Assess current understanding
```
Current plan: 
- Identified login button component
- Found missing click handler
- Plan to add proper event handler

Alignment check:
‚úÖ Directly addresses broken login button
‚úÖ Focused on home page as specified
‚úÖ Solution is proportional to problem
‚úÖ Minimal change to fix specific issue
```

#### Step 3: Evaluate conversation
```
Conversation progression:
1. User reported broken login button
2. Investigated home page components
3. Found root cause in event handler
4. Planned minimal fix

Drift analysis: ‚úÖ No drift - stayed focused on specific issue
```

#### Step 4: Confirm alignment
```
Planned changes: Add click handler to login button component
Validation:
‚úÖ Directly solves stated problem
‚úÖ Minimal and focused change
‚úÖ No unnecessary complexity
‚úÖ Clearly what user wants

Decision: ‚úÖ PROCEED with code changes
```

### Example 2: Detected Scope Drift
**Original Request**: "Add a search feature to the product listing page"

#### Step 1: Review requirements  
```
Core objective: Add search functionality to product listing
Specific requirement: Search feature on product listing page
Success criteria: Users can search and filter products
Scope: Product listing page search only
```

#### Step 2: Assess current understanding
```
Current plan:
- Redesign entire product listing architecture
- Add advanced filtering with categories, price ranges
- Implement autocomplete with search suggestions
- Add search analytics and tracking
- Optimize database queries for performance

Alignment check:
‚ùå Plan is much more complex than requested
‚ùå Includes features not mentioned by user
‚ùå Scope has expanded significantly beyond "search feature"
```

#### Step 3: Evaluate conversation
```
Conversation progression:
1. User asked for search feature
2. Explored existing product listing code
3. Discovered performance issues
4. Started planning comprehensive improvements
5. Added advanced features "while we're at it"

Drift analysis: ‚ùå Significant scope drift detected
- Original: simple search feature
- Current: comprehensive product listing redesign
```

#### Step 4: Confirm alignment
```
Planned changes: Complete product listing redesign with advanced features
Validation:
‚ùå Much more complex than user requested
‚ùå Includes many features not asked for
‚ùå Scope significantly expanded
‚ùå Uncertain if user wants this complexity

Decision: ‚ö†Ô∏è REFOCUS on original simple search requirement
Action: Scale back to basic search functionality only
```

### Example 3: Clarification Needed
**Original Request**: "Improve the user registration process"

#### Step 1: Review requirements
```
Core objective: Improve user registration process
Issue: Request is somewhat vague
Success criteria: Not clearly defined
Scope: User registration, but extent unclear
```

#### Step 2: Assess current understanding
```
Current plan:
- Add email verification
- Improve form validation
- Add password strength requirements
- Redesign registration UI

Alignment check:
‚ö†Ô∏è User didn't specify what "improve" means
‚ö†Ô∏è Multiple possible improvements identified
‚ö†Ô∏è Unclear which improvements user wants
‚ö†Ô∏è May be overengineering without direction
```

#### Step 3: Evaluate conversation
```
Conversation progression:
1. User requested registration improvements
2. Explored current registration code
3. Identified multiple improvement opportunities
4. Started planning comprehensive changes

Drift analysis: ‚ö†Ô∏è Possible scope expansion without clear direction
```

#### Step 4: Confirm alignment
```
Planned changes: Multiple registration improvements
Validation:
‚ö†Ô∏è User request was vague about specific improvements
‚ö†Ô∏è Multiple changes planned without user input
‚ö†Ô∏è Uncertain which improvements are desired
‚ö†Ô∏è Risk of solving wrong problems

Decision: ü§î CLARIFY requirements with user
Action: Ask user to specify what improvements they want
```

## Task Adherence Principles

### Stay Focused on Core Problem
```
‚úÖ Keep the main user problem as primary focus
‚úÖ Resist the urge to solve related but different problems
‚úÖ Maintain scope discipline throughout implementation
‚úÖ Question each addition: "Did the user ask for this?"

‚ùå Expand scope without user confirmation
‚ùå Add features "while we're at it"
‚ùå Solve problems the user didn't mention
‚ùå Let technical interests override user needs
```

### Maintain Proportional Complexity
```
‚úÖ Solution complexity should match problem complexity
‚úÖ Simple problems deserve simple solutions
‚úÖ Complex solutions require explicit user approval
‚úÖ Err on the side of simplicity

‚ùå Over-engineer simple problems
‚ùå Add unnecessary technical complexity
‚ùå Implement enterprise solutions for simple needs
‚ùå Assume user wants the "best" technical solution
```

### Validate Assumptions
```
‚úÖ Question assumptions about unstated requirements
‚úÖ Clarify ambiguous requests before implementing
‚úÖ Confirm scope expansions with user
‚úÖ Validate approach aligns with user expectations

‚ùå Assume you know what user "really" wants
‚ùå Implement based on best practices without confirmation
‚ùå Add features based on assumptions
‚ùå Proceed with unclear requirements
```

## Common Task Drift Scenarios

### Feature Creep
```
Original: "Add a logout button"
Drift: "Redesign entire authentication system with logout"
Correction: Add simple logout button as requested
```

### Technical Rabbit Holes
```
Original: "Fix slow database query"
Drift: "Redesign entire database architecture"
Correction: Focus on optimizing the specific slow query
```

### Perfectionism
```
Original: "Add basic form validation"
Drift: "Implement comprehensive validation framework"
Correction: Add simple validation for the specific form
```

### Scope Expansion
```
Original: "Fix bug in user profile page"
Drift: "Redesign all user-related pages"
Correction: Fix the specific bug in user profile page
```

## Best Practices

### 1. Regular Alignment Checks
```
‚úÖ Check alignment before major implementation decisions
‚úÖ Question scope expansions immediately
‚úÖ Validate assumptions about user needs
‚úÖ Keep original request visible and referenced

‚ùå Proceed without alignment validation
‚ùå Let scope drift accumulate gradually
‚ùå Make assumptions without validation
‚ùå Lose sight of original request
```

### 2. User-Centric Focus
```
‚úÖ Prioritize user's stated needs over technical preferences
‚úÖ Solve the problem the user actually has
‚úÖ Choose simplicity over technical elegance when appropriate
‚úÖ Ask for clarification when requirements are unclear

‚ùå Prioritize technical interests over user needs
‚ùå Solve problems the user doesn't have
‚ùå Add complexity for its own sake
‚ùå Proceed with unclear requirements
```

### 3. Scope Discipline
```
‚úÖ Resist the urge to improve "related" areas
‚úÖ Keep changes minimal and focused
‚úÖ Get explicit approval for scope expansions
‚úÖ Document any scope changes and rationale

‚ùå Expand scope without user approval
‚ùå Make changes beyond the requested area
‚ùå Assume broader changes are wanted
‚ùå Let technical discoveries drive scope expansion
```

## Integration with Development Process

### Before Code Changes
```
1. Review original task ‚Üí What did user actually request?
2. Assess current plan ‚Üí Does it align with the request?
3. Check for drift ‚Üí Has the scope expanded inappropriately?
4. Validate approach ‚Üí Is this what the user wants?
5. Proceed or adjust ‚Üí Make changes or refocus as needed
```

### During Implementation
```
‚Üí Keep original request visible
‚Üí Question each addition or complication
‚Üí Validate alignment at decision points
‚Üí Resist technical tangents
‚Üí Focus on delivering what was requested
```

### Before Completion
```
‚Üí Compare final result with original request
‚Üí Verify all requirements are met
‚Üí Ensure no unnecessary additions were made
‚Üí Confirm scope remained appropriate
‚Üí Validate user will be satisfied with result
```

This workflow replaces ThinkAboutTaskAdherenceTool functionality for ensuring continued alignment with user requirements throughout the development process.